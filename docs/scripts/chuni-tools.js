(()=>{"use strict";var n;!function(n){n.en_US="en_US",n.zh_TW="zh_TW"}(n||(n={}));const e="chunithm-net-eng.com",t="https://"+e;!function(o,r){const a={[n.en_US]:{alreadyRun:"Please refresh the page before running CHUNI TOOLS again!",wrongBase:`Oops! Looks like you are on the wrong page.\nPlease open CHUNITHM-NET Intl. (${e}) and login, then try again.`},[n.zh_TW]:{alreadyRun:"你已經執行過CHUNITHM小工具了！若要重新執行一次，請先重新整理頁面再來",wrongBase:`哇，看來你走錯路了。請到CHUNITHM-NET Intl. (${e}) 登入之後再試一次。`}}[function(){const e=new URLSearchParams(location.search);return e.get("lang")?e.get("lang").startsWith("zh")?n.zh_TW:n.en_US:function(){switch(localStorage.getItem("language")){case n.en_US:return n.en_US;case n.zh_TW:return n.zh_TW}return null}()||(navigator.language.startsWith("zh")?n.zh_TW:n.en_US)}()];if(r.chuniTools)return void alert(a.alreadyRun);if(r.chuniTools=!0,r.location.hostname!==e)return alert(a.wrongBase),void(r.location.href=t);function s(n){const e=o.createElement("script");e.src=`${function(){const n=Array.from(document.querySelectorAll("script"));for(;n.length;){const e=n.pop();if(e?.src.includes("chuni-tools")){const n=new URL(e.src),t=n.pathname;return n.origin+t.substring(0,t.lastIndexOf("/scripts"))}}return"https://dogeon188.github.io/chuni-tools"}()}/scripts/${n}.js`,o.body.append(e)}const i=o.location.pathname;-1!=i.indexOf("/mobile/home/userOption/updateUserName")?s("idxmap-generate"):-1!=i.indexOf("/mobile/record/musicGenre")?s("export-csv"):s("fetch-all")}(document,window)})();